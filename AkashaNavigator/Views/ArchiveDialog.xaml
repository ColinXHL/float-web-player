<helpers:AnimatedWindow x:Class="AkashaNavigator.Views.ArchiveDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:helpers="clr-namespace:AkashaNavigator.Helpers"
        Title="å½’æ¡£"
        Width="420"
        Height="480"
        WindowStartupLocation="CenterScreen"
        Foreground="White"
        ResizeMode="NoResize"
        Topmost="True"
        ShowInTaskbar="False">

    <helpers:AnimatedWindow.Resources>
        <!-- å…³é—­æŒ‰é’®æ ·å¼ -->
        <Style x:Key="DialogCloseButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#888"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Width" Value="28"/>
            <Setter Property="Height" Value="28"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}" CornerRadius="4">
                            <TextBlock Text="âœ•" FontSize="12" Foreground="{TemplateBinding Foreground}"
                                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#444"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- ä¸»æŒ‰é’®æ ·å¼ï¼ˆç¡®å®šï¼‰ -->
        <Style x:Key="PrimaryButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#0078D4"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="20,8"/>
            <Setter Property="MinWidth" Value="80"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}" 
                                CornerRadius="4" Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#1084D8"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#006CC1"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Background" Value="#3A3A3A"/>
                                <Setter Property="Foreground" Value="#666"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- æ¬¡è¦æŒ‰é’®æ ·å¼ï¼ˆå–æ¶ˆï¼‰ -->
        <Style x:Key="SecondaryButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#3C3C3C"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="20,8"/>
            <Setter Property="MinWidth" Value="80"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}" 
                                CornerRadius="4" Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#4A4A4A"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#333"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- å°æŒ‰é’®æ ·å¼ï¼ˆæ–°å»ºç›®å½•ï¼‰ -->
        <Style x:Key="SmallButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#333"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="10,6"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}" 
                                CornerRadius="4" Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#444"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#555"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- æ­£æ–¹å½¢å°æŒ‰é’®æ ·å¼ï¼ˆç¡®è®¤/å–æ¶ˆï¼‰ -->
        <Style x:Key="SquareButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#333"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Width" Value="32"/>
            <Setter Property="Height" Value="32"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}" 
                                CornerRadius="4" Width="32" Height="32">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#444"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#555"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- TreeView æ ·å¼ -->
        <Style x:Key="DarkTreeViewStyle" TargetType="TreeView">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>

        <!-- å³é”®èœå•æ ·å¼ -->
        <Style x:Key="DarkContextMenuStyle" TargetType="ContextMenu">
            <Setter Property="Background" Value="#2D2D2D"/>
            <Setter Property="BorderBrush" Value="#3A3A3A"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ContextMenu">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4" Padding="4">
                            <StackPanel IsItemsHost="True"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- èœå•é¡¹æ ·å¼ -->
        <Style x:Key="DarkMenuItemStyle" TargetType="MenuItem">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="MenuItem">
                        <Border x:Name="Bd" Background="{TemplateBinding Background}"
                                Padding="{TemplateBinding Padding}" CornerRadius="3">
                            <ContentPresenter ContentSource="Header"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsHighlighted" Value="True">
                                <Setter TargetName="Bd" Property="Background" Value="#3A3A3A"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- TreeViewItem æ ·å¼ -->
        <Style x:Key="DarkTreeViewItemStyle" TargetType="TreeViewItem">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="4,4"/>
            <Setter Property="Margin" Value="0,1"/>
            <Setter Property="IsExpanded" Value="True"/>
            <EventSetter Event="PreviewMouseRightButtonDown" Handler="TreeViewItem_PreviewMouseRightButtonDown"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TreeViewItem">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>
                            <Border x:Name="Bd" Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    Padding="{TemplateBinding Padding}"
                                    CornerRadius="4">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <ToggleButton x:Name="Expander" Grid.Column="0"
                                                  ClickMode="Press"
                                                  IsChecked="{Binding IsExpanded, RelativeSource={RelativeSource TemplatedParent}}"
                                                  Visibility="Collapsed"
                                                  Margin="0,0,4,0">
                                        <ToggleButton.Style>
                                            <Style TargetType="ToggleButton">
                                                <Setter Property="Focusable" Value="False"/>
                                                <Setter Property="Width" Value="18"/>
                                                <Setter Property="Height" Value="18"/>
                                                <Setter Property="Cursor" Value="Hand"/>
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="ToggleButton">
                                                            <Border x:Name="ExpanderBorder" Background="Transparent" 
                                                                    Width="18" Height="18" CornerRadius="3">
                                                                <Path x:Name="Arrow" 
                                                                      Data="M 3,0 L 6,4 L 3,8 Z"
                                                                      Fill="#888"
                                                                      HorizontalAlignment="Center" 
                                                                      VerticalAlignment="Center"
                                                                      RenderTransformOrigin="0.5,0.5"/>
                                                            </Border>
                                                            <ControlTemplate.Triggers>
                                                                <Trigger Property="IsChecked" Value="True">
                                                                    <Setter TargetName="Arrow" Property="RenderTransform">
                                                                        <Setter.Value>
                                                                            <RotateTransform Angle="90"/>
                                                                        </Setter.Value>
                                                                    </Setter>
                                                                </Trigger>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter TargetName="ExpanderBorder" Property="Background" Value="#3A3A3A"/>
                                                                    <Setter TargetName="Arrow" Property="Fill" Value="White"/>
                                                                </Trigger>
                                                            </ControlTemplate.Triggers>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </ToggleButton.Style>
                                    </ToggleButton>
                                    <ContentPresenter x:Name="PART_Header" Grid.Column="1"
                                                      ContentSource="Header"
                                                      HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"/>
                                </Grid>
                            </Border>
                            <ItemsPresenter x:Name="ItemsHost" Grid.Row="1" Margin="22,0,0,0"
                                            Visibility="Collapsed"/>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsExpanded" Value="True">
                                <Setter TargetName="ItemsHost" Property="Visibility" Value="Visible"/>
                            </Trigger>
                            <Trigger Property="HasItems" Value="True">
                                <Setter TargetName="Expander" Property="Visibility" Value="Visible"/>
                            </Trigger>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="Bd" Property="Background" Value="#0078D4"/>
                            </Trigger>
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition SourceName="Bd" Property="IsMouseOver" Value="True"/>
                                    <Condition Property="IsSelected" Value="False"/>
                                </MultiTrigger.Conditions>
                                <Setter TargetName="Bd" Property="Background" Value="#333"/>
                            </MultiTrigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </helpers:AnimatedWindow.Resources>

    <!-- ä¸»å®¹å™¨ -->
    <Border x:Name="MainContainer" Background="#2D2D2D" CornerRadius="8" RenderTransformOrigin="0.5,0.5"
            MouseLeftButtonDown="MainContainer_MouseLeftButtonDown">
        <Border.RenderTransform>
            <ScaleTransform x:Name="ContainerScale" ScaleX="1" ScaleY="1"/>
        </Border.RenderTransform>
        <Border.Effect>
            <DropShadowEffect BlurRadius="20" ShadowDepth="0" Opacity="0.6" Color="Black"/>
        </Border.Effect>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>  <!-- æ ‡é¢˜æ  -->
                <RowDefinition Height="*"/>     <!-- å†…å®¹åŒº -->
                <RowDefinition Height="Auto"/>  <!-- æŒ‰é’®åŒº -->
            </Grid.RowDefinitions>

            <!-- æ ‡é¢˜æ  -->
            <Border Grid.Row="0" Background="#252525" CornerRadius="8,8,0,0"
                    MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
                <Grid Margin="16,10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- å›¾æ ‡ -->
                    <TextBlock Grid.Column="0" Text="ðŸ“" FontSize="16"
                               VerticalAlignment="Center" Margin="0,0,10,0"/>

                    <!-- æ ‡é¢˜ -->
                    <TextBlock Grid.Column="1" Text="å½’æ¡£" FontSize="14" FontWeight="SemiBold"
                               Foreground="White" VerticalAlignment="Center"/>

                    <!-- å…³é—­æŒ‰é’® -->
                    <Button Grid.Column="2" Style="{StaticResource DialogCloseButtonStyle}"
                            Click="BtnClose_Click"/>
                </Grid>
            </Border>

            <!-- å†…å®¹åŒº -->
            <Grid Grid.Row="1" Margin="16">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>  <!-- æ ‡é¢˜è¾“å…¥ -->
                    <RowDefinition Height="Auto"/>  <!-- URL æ˜¾ç¤º -->
                    <RowDefinition Height="Auto"/>  <!-- ç›®å½•é€‰æ‹©æ ‡ç­¾ -->
                    <RowDefinition Height="*"/>     <!-- ç›®å½•æ ‘ -->
                    <RowDefinition Height="Auto"/>  <!-- æ–°å»ºç›®å½• -->
                </Grid.RowDefinitions>

                <!-- æ ‡é¢˜è¾“å…¥ -->
                <StackPanel Grid.Row="0" Margin="0,0,0,12">
                    <TextBlock Text="æ ‡é¢˜" Foreground="#888" FontSize="12" Margin="0,0,0,6"/>
                    <Grid>
                        <TextBox x:Name="TxtTitle"
                                 Background="#2D2D2D"
                                 Foreground="White"
                                 BorderBrush="#444"
                                 BorderThickness="1"
                                 Padding="10,8"
                                 FontSize="14"
                                 CaretBrush="White"
                                 SelectionBrush="#0078D4"
                                 VerticalContentAlignment="Center"
                                 TextChanged="TxtTitle_TextChanged">
                            <TextBox.Resources>
                                <Style TargetType="{x:Type Border}">
                                    <Setter Property="CornerRadius" Value="4"/>
                                </Style>
                            </TextBox.Resources>
                        </TextBox>
                        <TextBlock x:Name="TitlePlaceholder" Text="è¾“å…¥å½’æ¡£æ ‡é¢˜..."
                                   Foreground="#888" FontSize="14"
                                   IsHitTestVisible="False" Padding="12,8"
                                   VerticalAlignment="Center" HorizontalAlignment="Left">
                            <TextBlock.Style>
                                <Style TargetType="TextBlock">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Text.Length, ElementName=TxtTitle}" Value="0">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                    </Grid>
                    <TextBlock x:Name="TxtError" Foreground="#F87171" FontSize="11"
                               Margin="0,4,0,0" Visibility="Collapsed"/>
                </StackPanel>

                <!-- URL è¾“å…¥ -->
                <StackPanel Grid.Row="1" Margin="0,0,0,12">
                    <Grid Margin="0,0,0,6">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="URL" Foreground="#888" FontSize="12"
                                   VerticalAlignment="Center"/>
                        <Button x:Name="BtnGetCurrentUrl" Grid.Column="1" Content="ðŸ“‹ èŽ·å–å½“å‰" 
                                Style="{StaticResource SmallButtonStyle}"
                                Click="BtnGetCurrentUrl_Click" ToolTip="èŽ·å–å½“å‰æ’­æ”¾å™¨çš„ URL"/>
                    </Grid>
                    <Grid>
                        <TextBox x:Name="TxtUrl"
                                 Background="#2D2D2D"
                                 Foreground="White"
                                 BorderBrush="#444"
                                 BorderThickness="1"
                                 Padding="10,8"
                                 FontSize="14"
                                 CaretBrush="White"
                                 SelectionBrush="#0078D4"
                                 VerticalContentAlignment="Center"
                                 TextChanged="TxtUrl_TextChanged">
                            <TextBox.Resources>
                                <Style TargetType="{x:Type Border}">
                                    <Setter Property="CornerRadius" Value="4"/>
                                </Style>
                            </TextBox.Resources>
                        </TextBox>
                        <TextBlock x:Name="UrlPlaceholder" Text="è¾“å…¥æˆ–ç²˜è´´ URL..."
                                   Foreground="#888" FontSize="14"
                                   IsHitTestVisible="False" Padding="12,8"
                                   VerticalAlignment="Center" HorizontalAlignment="Left">
                            <TextBlock.Style>
                                <Style TargetType="TextBlock">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Text.Length, ElementName=TxtUrl}" Value="0">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                    </Grid>
                </StackPanel>

                <!-- ç›®å½•é€‰æ‹©æ ‡ç­¾ -->
                <Grid Grid.Row="2" Margin="0,0,0,6">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0" Text="é€‰æ‹©ç›®å½•ï¼ˆå¯é€‰ï¼‰" Foreground="#888" FontSize="12"
                               VerticalAlignment="Center"/>
                    <Button Grid.Column="1" Content="ðŸ“ æ–°å»ºç›®å½•" Style="{StaticResource SmallButtonStyle}"
                            Click="BtnNewFolder_Click"/>
                </Grid>

                <!-- ç›®å½•æ ‘ -->
                <Border Grid.Row="3" Background="#252525" CornerRadius="4" Padding="8"
                        MouseLeftButtonDown="FolderTreeContainer_MouseLeftButtonDown">
                    <Grid>
                        <TreeView x:Name="FolderTree" Style="{StaticResource DarkTreeViewStyle}"
                                  ItemContainerStyle="{StaticResource DarkTreeViewItemStyle}"
                                  SelectedItemChanged="FolderTree_SelectedItemChanged"
                                  Background="Transparent">
                            <TreeView.ItemTemplate>
                                <HierarchicalDataTemplate ItemsSource="{Binding Children}">
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="{Binding Icon}" FontSize="14" Margin="0,0,6,0"/>
                                        <TextBlock Text="{Binding Name}" FontSize="13" Foreground="White"/>
                                    </StackPanel>
                                </HierarchicalDataTemplate>
                            </TreeView.ItemTemplate>
                        </TreeView>
                        <!-- ç©ºçŠ¶æ€æç¤º -->
                        <TextBlock x:Name="EmptyFolderHint" Text="æš‚æ— ç›®å½•ï¼Œå¯ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®æ–°å»º"
                                   Foreground="#666" FontSize="12"
                                   HorizontalAlignment="Center" VerticalAlignment="Center"
                                   Visibility="Collapsed"/>
                    </Grid>
                </Border>

                <!-- æ–°å»ºç›®å½•è¾“å…¥åŒºï¼ˆé»˜è®¤éšè—ï¼‰ -->
                <Grid x:Name="NewFolderPanel" Grid.Row="4" Margin="0,8,0,0" Visibility="Collapsed">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" MinWidth="100"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <TextBox x:Name="TxtNewFolderName" Grid.Column="0"
                             Background="#2D2D2D"
                             Foreground="White"
                             BorderBrush="#444"
                             BorderThickness="1"
                             Padding="10,8"
                             FontSize="14"
                             CaretBrush="White"
                             SelectionBrush="#0078D4"
                             VerticalContentAlignment="Center"
                             KeyDown="TxtNewFolderName_KeyDown">
                        <TextBox.Resources>
                            <Style TargetType="{x:Type Border}">
                                <Setter Property="CornerRadius" Value="4"/>
                            </Style>
                        </TextBox.Resources>
                    </TextBox>
                    <Button Grid.Column="1" Content="âœ“" Style="{StaticResource SquareButtonStyle}"
                            Margin="6,0,0,0" Click="BtnConfirmNewFolder_Click"/>
                    <Button Grid.Column="2" Content="âœ•" Style="{StaticResource SquareButtonStyle}"
                            Margin="6,0,0,0" Click="BtnCancelNewFolder_Click"/>
                </Grid>
            </Grid>

            <!-- æŒ‰é’®åŒº -->
            <Border Grid.Row="2" Background="#252525" CornerRadius="0,0,8,8" Padding="16,12">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- å·¦ä¾§ï¼šå½’æ¡£ç®¡ç†æŒ‰é’® -->
                    <Button Grid.Column="0" Content="ðŸ“‚ å½’æ¡£ç®¡ç†" 
                            Style="{StaticResource SecondaryButtonStyle}"
                            HorizontalAlignment="Left"
                            Click="BtnArchiveManager_Click"/>
                    
                    <!-- å³ä¾§ï¼šç¡®å®šå’Œå–æ¶ˆæŒ‰é’® -->
                    <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right">
                        <Button x:Name="BtnConfirm" Content="ç¡®å®š" Style="{StaticResource PrimaryButtonStyle}"
                                Click="BtnConfirm_Click" Margin="0,0,8,0" IsEnabled="False"/>
                        <Button Content="å–æ¶ˆ" Style="{StaticResource SecondaryButtonStyle}"
                                Click="BtnCancel_Click"/>
                    </StackPanel>
                </Grid>
            </Border>
        </Grid>
    </Border>
</helpers:AnimatedWindow>
